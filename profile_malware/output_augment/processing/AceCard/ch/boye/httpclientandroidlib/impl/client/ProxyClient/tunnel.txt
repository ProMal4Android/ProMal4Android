# Lch/boye/httpclientandroidlib/impl/client/ProxyClient;->tunnel(Lch/boye/httpclientandroidlib/HttpHost; Lch/boye/httpclientandroidlib/HttpHost; Lch/boye/httpclientandroidlib/auth/Credentials;)Ljava/net/Socket; [access_flags=public]
#
# Parameters:
# - local registers: v0...v18
# - v19:ch.boye.httpclientandroidlib.HttpHost
# - v20:ch.boye.httpclientandroidlib.HttpHost
# - v21:ch.boye.httpclientandroidlib.auth.Credentials
#
# - return:java.net.Socket

tunnel-BB@0x0 : [ tunnel-BB@0x24 ]
	0       (00000000) new-instance         v9, Lch/boye/httpclientandroidlib/impl/client/ProxyClient$ProxyConnection;
	1       (00000004) new-instance         v1, Lch/boye/httpclientandroidlib/conn/routing/HttpRoute;
	2       (00000008) move-object/from16   v0, v19
	3       (0000000c) invoke-direct        v1, v0, Lch/boye/httpclientandroidlib/conn/routing/HttpRoute;-><init>(Lch/boye/httpclientandroidlib/HttpHost;)V
	4       (00000012) invoke-direct        v9, v1, Lch/boye/httpclientandroidlib/impl/client/ProxyClient$ProxyConnection;-><init>(Lch/boye/httpclientandroidlib/conn/routing/HttpRoute;)V
	5       (00000018) new-instance         v6, Lch/boye/httpclientandroidlib/protocol/BasicHttpContext;
	6       (0000001c) invoke-direct        v6, Lch/boye/httpclientandroidlib/protocol/BasicHttpContext;-><init>()V
	7       (00000022) const/4              v3, 0

tunnel-BB@0x24 : [ tunnel-BB@0x30 tunnel-BB@0x58 ]
	8       (00000024) invoke-virtual       v9, Lch/boye/httpclientandroidlib/impl/client/ProxyClient$ProxyConnection;->isOpen()Z
	9       (0000002a) move-result          v1
	10      (0000002c) if-nez               v1, +16

tunnel-BB@0x30 : [ tunnel-BB@0x58 ]
	11      (00000030) new-instance         v15, Ljava/net/Socket;
	12      (00000034) invoke-virtual/range v19, Lch/boye/httpclientandroidlib/HttpHost;->getHostName()Ljava/lang/String;
	13      (0000003a) move-result-object   v1
	14      (0000003c) invoke-virtual/range v19, Lch/boye/httpclientandroidlib/HttpHost;->getPort()I
	15      (00000042) move-result          v2
	16      (00000044) invoke-direct        v15, v1, v2, Ljava/net/Socket;-><init>(Ljava/lang/String; I)V
	17      (0000004a) move-object/from16   v0, v18
	18      (0000004e) iget-object          v1, v0, Lch/boye/httpclientandroidlib/impl/client/ProxyClient;->params Lch/boye/httpclientandroidlib/params/HttpParams;
	19      (00000052) invoke-virtual       v9, v15, v1, Lch/boye/httpclientandroidlib/impl/client/ProxyClient$ProxyConnection;->bind(Ljava/net/Socket; Lch/boye/httpclientandroidlib/params/HttpParams;)V

tunnel-BB@0x58 : [ tunnel-BB@0x6c tunnel-BB@0x70 ]
	20      (00000058) invoke-virtual/range v20, Lch/boye/httpclientandroidlib/HttpHost;->getHostName()Ljava/lang/String;
	21      (0000005e) move-result-object   v13
	22      (00000060) invoke-virtual/range v20, Lch/boye/httpclientandroidlib/HttpHost;->getPort()I
	23      (00000066) move-result          v14
	24      (00000068) if-gez               v14, +4

tunnel-BB@0x6c : [ tunnel-BB@0x70 ]
	25      (0000006c) const/16             v14, 80

tunnel-BB@0x70 : [ tunnel-BB@0x1c2 tunnel-BB@0x1fc ]
	26      (00000070) new-instance         v8, Ljava/lang/StringBuilder;
	27      (00000074) invoke-virtual       v13, Ljava/lang/String;->length()I
	28      (0000007a) move-result          v1
	29      (0000007c) add-int/lit8         v1, v1, 6
	30      (00000080) invoke-direct        v8, v1, Ljava/lang/StringBuilder;-><init>(I)V
	31      (00000086) invoke-virtual       v8, v13, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
	32      (0000008c) const/16             v1, 58
	33      (00000090) invoke-virtual       v8, v1, Ljava/lang/StringBuilder;->append(C)Ljava/lang/StringBuilder;
	34      (00000096) invoke-static        v14, Ljava/lang/Integer;->toString(I)Ljava/lang/String;
	35      (0000009c) move-result-object   v1
	36      (0000009e) invoke-virtual       v8, v1, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
	37      (000000a4) invoke-virtual       v8, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
	38      (000000aa) move-result-object   v7
	39      (000000ac) move-object/from16   v0, v18
	40      (000000b0) iget-object          v1, v0, Lch/boye/httpclientandroidlib/impl/client/ProxyClient;->params Lch/boye/httpclientandroidlib/params/HttpParams;
	41      (000000b4) invoke-static        v1, Lch/boye/httpclientandroidlib/params/HttpProtocolParams;->getVersion(Lch/boye/httpclientandroidlib/params/HttpParams;)Lch/boye/httpclientandroidlib/ProtocolVersion;
	42      (000000ba) move-result-object   v17
	43      (000000bc) new-instance         v10, Lch/boye/httpclientandroidlib/message/BasicHttpRequest;
	44      (000000c0) const-string         v1, 'CONNECT'
	45      (000000c4) move-object/from16   v0, v17
	46      (000000c8) invoke-direct        v10, v1, v7, v0, Lch/boye/httpclientandroidlib/message/BasicHttpRequest;-><init>(Ljava/lang/String; Ljava/lang/String; Lch/boye/httpclientandroidlib/ProtocolVersion;)V
	47      (000000ce) move-object/from16   v0, v18
	48      (000000d2) iget-object          v1, v0, Lch/boye/httpclientandroidlib/impl/client/ProxyClient;->params Lch/boye/httpclientandroidlib/params/HttpParams;
	49      (000000d6) invoke-interface     v10, v1, Lch/boye/httpclientandroidlib/HttpRequest;->setParams(Lch/boye/httpclientandroidlib/params/HttpParams;)V
	50      (000000dc) new-instance         v11, Lch/boye/httpclientandroidlib/impl/client/BasicCredentialsProvider;
	51      (000000e0) invoke-direct        v11, Lch/boye/httpclientandroidlib/impl/client/BasicCredentialsProvider;-><init>()V
	52      (000000e6) new-instance         v1, Lch/boye/httpclientandroidlib/auth/AuthScope;
	53      (000000ea) move-object/from16   v0, v19
	54      (000000ee) invoke-direct        v1, v0, Lch/boye/httpclientandroidlib/auth/AuthScope;-><init>(Lch/boye/httpclientandroidlib/HttpHost;)V
	55      (000000f4) move-object/from16   v0, v21
	56      (000000f8) invoke-virtual       v11, v1, v0, Lch/boye/httpclientandroidlib/impl/client/BasicCredentialsProvider;->setCredentials(Lch/boye/httpclientandroidlib/auth/AuthScope; Lch/boye/httpclientandroidlib/auth/Credentials;)V
	57      (000000fe) const-string         v1, 'http.target_host'
	58      (00000102) move-object/from16   v0, v20
	59      (00000106) invoke-interface     v6, v1, v0, Lch/boye/httpclientandroidlib/protocol/HttpContext;->setAttribute(Ljava/lang/String; Ljava/lang/Object;)V
	60      (0000010c) const-string         v1, 'http.proxy_host'
	61      (00000110) move-object/from16   v0, v19
	62      (00000114) invoke-interface     v6, v1, v0, Lch/boye/httpclientandroidlib/protocol/HttpContext;->setAttribute(Ljava/lang/String; Ljava/lang/Object;)V
	63      (0000011a) const-string         v1, 'http.connection'
	64      (0000011e) invoke-interface     v6, v1, v9, Lch/boye/httpclientandroidlib/protocol/HttpContext;->setAttribute(Ljava/lang/String; Ljava/lang/Object;)V
	65      (00000124) const-string         v1, 'http.request'
	66      (00000128) invoke-interface     v6, v1, v10, Lch/boye/httpclientandroidlib/protocol/HttpContext;->setAttribute(Ljava/lang/String; Ljava/lang/Object;)V
	67      (0000012e) const-string         v1, 'http.auth.proxy-scope'
	68      (00000132) move-object/from16   v0, v18
	69      (00000136) iget-object          v2, v0, Lch/boye/httpclientandroidlib/impl/client/ProxyClient;->proxyAuthState Lch/boye/httpclientandroidlib/auth/AuthState;
	70      (0000013a) invoke-interface     v6, v1, v2, Lch/boye/httpclientandroidlib/protocol/HttpContext;->setAttribute(Ljava/lang/String; Ljava/lang/Object;)V
	71      (00000140) const-string         v1, 'http.auth.credentials-provider'
	72      (00000144) invoke-interface     v6, v1, v11, Lch/boye/httpclientandroidlib/protocol/HttpContext;->setAttribute(Ljava/lang/String; Ljava/lang/Object;)V
	73      (0000014a) const-string         v1, 'http.authscheme-registry'
	74      (0000014e) move-object/from16   v0, v18
	75      (00000152) iget-object          v2, v0, Lch/boye/httpclientandroidlib/impl/client/ProxyClient;->authSchemeRegistry Lch/boye/httpclientandroidlib/auth/AuthSchemeRegistry;
	76      (00000156) invoke-interface     v6, v1, v2, Lch/boye/httpclientandroidlib/protocol/HttpContext;->setAttribute(Ljava/lang/String; Ljava/lang/Object;)V
	77      (0000015c) move-object/from16   v0, v18
	78      (00000160) iget-object          v1, v0, Lch/boye/httpclientandroidlib/impl/client/ProxyClient;->requestExec Lch/boye/httpclientandroidlib/protocol/HttpRequestExecutor;
	79      (00000164) move-object/from16   v0, v18
	80      (00000168) iget-object          v2, v0, Lch/boye/httpclientandroidlib/impl/client/ProxyClient;->httpProcessor Lch/boye/httpclientandroidlib/protocol/HttpProcessor;
	81      (0000016c) invoke-virtual       v1, v10, v2, v6, Lch/boye/httpclientandroidlib/protocol/HttpRequestExecutor;->preProcess(Lch/boye/httpclientandroidlib/HttpRequest; Lch/boye/httpclientandroidlib/protocol/HttpProcessor; Lch/boye/httpclientandroidlib/protocol/HttpContext;)V
	82      (00000172) move-object/from16   v0, v18
	83      (00000176) iget-object          v1, v0, Lch/boye/httpclientandroidlib/impl/client/ProxyClient;->requestExec Lch/boye/httpclientandroidlib/protocol/HttpRequestExecutor;
	84      (0000017a) invoke-virtual       v1, v10, v9, v6, Lch/boye/httpclientandroidlib/protocol/HttpRequestExecutor;->execute(Lch/boye/httpclientandroidlib/HttpRequest; Lch/boye/httpclientandroidlib/HttpClientConnection; Lch/boye/httpclientandroidlib/protocol/HttpContext;)Lch/boye/httpclientandroidlib/HttpResponse;
	85      (00000180) move-result-object   v3
	86      (00000182) move-object/from16   v0, v18
	87      (00000186) iget-object          v1, v0, Lch/boye/httpclientandroidlib/impl/client/ProxyClient;->params Lch/boye/httpclientandroidlib/params/HttpParams;
	88      (0000018a) invoke-interface     v3, v1, Lch/boye/httpclientandroidlib/HttpResponse;->setParams(Lch/boye/httpclientandroidlib/params/HttpParams;)V
	89      (00000190) move-object/from16   v0, v18
	90      (00000194) iget-object          v1, v0, Lch/boye/httpclientandroidlib/impl/client/ProxyClient;->requestExec Lch/boye/httpclientandroidlib/protocol/HttpRequestExecutor;
	91      (00000198) move-object/from16   v0, v18
	92      (0000019c) iget-object          v2, v0, Lch/boye/httpclientandroidlib/impl/client/ProxyClient;->httpProcessor Lch/boye/httpclientandroidlib/protocol/HttpProcessor;
	93      (000001a0) invoke-virtual       v1, v3, v2, v6, Lch/boye/httpclientandroidlib/protocol/HttpRequestExecutor;->postProcess(Lch/boye/httpclientandroidlib/HttpResponse; Lch/boye/httpclientandroidlib/protocol/HttpProcessor; Lch/boye/httpclientandroidlib/protocol/HttpContext;)V
	94      (000001a6) invoke-interface     v3, Lch/boye/httpclientandroidlib/HttpResponse;->getStatusLine()Lch/boye/httpclientandroidlib/StatusLine;
	95      (000001ac) move-result-object   v1
	96      (000001ae) invoke-interface     v1, Lch/boye/httpclientandroidlib/StatusLine;->getStatusCode()I
	97      (000001b4) move-result          v16
	98      (000001b6) const/16             v1, 200
	99      (000001ba) move/from16          v0, v16
	100     (000001be) if-ge                v0, v1, +1f

tunnel-BB@0x1c2 : 
	101     (000001c2) new-instance         v1, Lch/boye/httpclientandroidlib/HttpException;
	102     (000001c6) new-instance         v2, Ljava/lang/StringBuilder;
	103     (000001ca) invoke-direct        v2, Ljava/lang/StringBuilder;-><init>()V
	104     (000001d0) const-string         v4, 'Unexpected response to CONNECT request: '
	105     (000001d4) invoke-virtual       v2, v4, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
	106     (000001da) move-result-object   v2
	107     (000001dc) invoke-interface     v3, Lch/boye/httpclientandroidlib/HttpResponse;->getStatusLine()Lch/boye/httpclientandroidlib/StatusLine;
	108     (000001e2) move-result-object   v4
	109     (000001e4) invoke-virtual       v2, v4, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
	110     (000001ea) move-result-object   v2
	111     (000001ec) invoke-virtual       v2, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
	112     (000001f2) move-result-object   v2
	113     (000001f4) invoke-direct        v1, v2, Lch/boye/httpclientandroidlib/HttpException;-><init>(Ljava/lang/String;)V
	114     (000001fa) throw                v1

tunnel-BB@0x1fc : [ tunnel-BB@0x210 tunnel-BB@0x24 ]
	115     (000001fc) move-object/from16   v0, v18
	116     (00000200) iget-object          v1, v0, Lch/boye/httpclientandroidlib/impl/client/ProxyClient;->params Lch/boye/httpclientandroidlib/params/HttpParams;
	117     (00000204) invoke-static        v1, Lch/boye/httpclientandroidlib/client/params/HttpClientParams;->isAuthenticating(Lch/boye/httpclientandroidlib/params/HttpParams;)Z
	118     (0000020a) move-result          v1
	119     (0000020c) if-eqz               v1, -f4

tunnel-BB@0x210 : [ tunnel-BB@0x238 tunnel-BB@0x290 ]
	120     (00000210) move-object/from16   v0, v18
	121     (00000214) iget-object          v1, v0, Lch/boye/httpclientandroidlib/impl/client/ProxyClient;->authenticator Lch/boye/httpclientandroidlib/impl/client/HttpAuthenticator;
	122     (00000218) move-object/from16   v0, v18
	123     (0000021c) iget-object          v4, v0, Lch/boye/httpclientandroidlib/impl/client/ProxyClient;->proxyAuthStrategy Lch/boye/httpclientandroidlib/impl/client/ProxyAuthenticationStrategy;
	124     (00000220) move-object/from16   v0, v18
	125     (00000224) iget-object          v5, v0, Lch/boye/httpclientandroidlib/impl/client/ProxyClient;->proxyAuthState Lch/boye/httpclientandroidlib/auth/AuthState;
	126     (00000228) move-object/from16   v2, v19
	127     (0000022c) invoke-virtual/range v1 ... v6, Lch/boye/httpclientandroidlib/impl/client/HttpAuthenticator;->isAuthenticationRequested(Lch/boye/httpclientandroidlib/HttpHost; Lch/boye/httpclientandroidlib/HttpResponse; Lch/boye/httpclientandroidlib/client/AuthenticationStrategy; Lch/boye/httpclientandroidlib/auth/AuthState; Lch/boye/httpclientandroidlib/protocol/HttpContext;)Z
	128     (00000232) move-result          v1
	129     (00000234) if-eqz               v1, +2e

tunnel-BB@0x238 : [ tunnel-BB@0x260 tunnel-BB@0x290 ]
	130     (00000238) move-object/from16   v0, v18
	131     (0000023c) iget-object          v1, v0, Lch/boye/httpclientandroidlib/impl/client/ProxyClient;->authenticator Lch/boye/httpclientandroidlib/impl/client/HttpAuthenticator;
	132     (00000240) move-object/from16   v0, v18
	133     (00000244) iget-object          v4, v0, Lch/boye/httpclientandroidlib/impl/client/ProxyClient;->proxyAuthStrategy Lch/boye/httpclientandroidlib/impl/client/ProxyAuthenticationStrategy;
	134     (00000248) move-object/from16   v0, v18
	135     (0000024c) iget-object          v5, v0, Lch/boye/httpclientandroidlib/impl/client/ProxyClient;->proxyAuthState Lch/boye/httpclientandroidlib/auth/AuthState;
	136     (00000250) move-object/from16   v2, v19
	137     (00000254) invoke-virtual/range v1 ... v6, Lch/boye/httpclientandroidlib/impl/client/HttpAuthenticator;->authenticate(Lch/boye/httpclientandroidlib/HttpHost; Lch/boye/httpclientandroidlib/HttpResponse; Lch/boye/httpclientandroidlib/client/AuthenticationStrategy; Lch/boye/httpclientandroidlib/auth/AuthState; Lch/boye/httpclientandroidlib/protocol/HttpContext;)Z
	138     (0000025a) move-result          v1
	139     (0000025c) if-eqz               v1, +1a

tunnel-BB@0x260 : [ tunnel-BB@0x274 tunnel-BB@0x286 ]
	140     (00000260) move-object/from16   v0, v18
	141     (00000264) iget-object          v1, v0, Lch/boye/httpclientandroidlib/impl/client/ProxyClient;->reuseStrategy Lch/boye/httpclientandroidlib/ConnectionReuseStrategy;
	142     (00000268) invoke-interface     v1, v3, v6, Lch/boye/httpclientandroidlib/ConnectionReuseStrategy;->keepAlive(Lch/boye/httpclientandroidlib/HttpResponse; Lch/boye/httpclientandroidlib/protocol/HttpContext;)Z
	143     (0000026e) move-result          v1
	144     (00000270) if-eqz               v1, +b

tunnel-BB@0x274 : [ tunnel-BB@0x24 ]
	145     (00000274) invoke-interface     v3, Lch/boye/httpclientandroidlib/HttpResponse;->getEntity()Lch/boye/httpclientandroidlib/HttpEntity;
	146     (0000027a) move-result-object   v12
	147     (0000027c) invoke-static        v12, Lch/boye/httpclientandroidlib/util/EntityUtils;->consume(Lch/boye/httpclientandroidlib/HttpEntity;)V
	148     (00000282) goto/16              -12f

tunnel-BB@0x286 : [ tunnel-BB@0x24 ]
	149     (00000286) invoke-virtual       v9, Lch/boye/httpclientandroidlib/impl/client/ProxyClient$ProxyConnection;->close()V
	150     (0000028c) goto/16              -134

tunnel-BB@0x290 : [ tunnel-BB@0x2ac tunnel-BB@0x308 ]
	151     (00000290) invoke-interface     v3, Lch/boye/httpclientandroidlib/HttpResponse;->getStatusLine()Lch/boye/httpclientandroidlib/StatusLine;
	152     (00000296) move-result-object   v1
	153     (00000298) invoke-interface     v1, Lch/boye/httpclientandroidlib/StatusLine;->getStatusCode()I
	154     (0000029e) move-result          v16
	155     (000002a0) const/16             v1, 299
	156     (000002a4) move/from16          v0, v16
	157     (000002a8) if-le                v0, v1, +30

tunnel-BB@0x2ac : [ tunnel-BB@0x2b8 tunnel-BB@0x2c8 ]
	158     (000002ac) invoke-interface     v3, Lch/boye/httpclientandroidlib/HttpResponse;->getEntity()Lch/boye/httpclientandroidlib/HttpEntity;
	159     (000002b2) move-result-object   v12
	160     (000002b4) if-eqz               v12, +a

tunnel-BB@0x2b8 : [ tunnel-BB@0x2c8 ]
	161     (000002b8) new-instance         v1, Lch/boye/httpclientandroidlib/entity/BufferedHttpEntity;
	162     (000002bc) invoke-direct        v1, v12, Lch/boye/httpclientandroidlib/entity/BufferedHttpEntity;-><init>(Lch/boye/httpclientandroidlib/HttpEntity;)V
	163     (000002c2) invoke-interface     v3, v1, Lch/boye/httpclientandroidlib/HttpResponse;->setEntity(Lch/boye/httpclientandroidlib/HttpEntity;)V

tunnel-BB@0x2c8 : 
	164     (000002c8) invoke-virtual       v9, Lch/boye/httpclientandroidlib/impl/client/ProxyClient$ProxyConnection;->close()V
	165     (000002ce) new-instance         v1, Lch/boye/httpclientandroidlib/impl/client/TunnelRefusedException;
	166     (000002d2) new-instance         v2, Ljava/lang/StringBuilder;
	167     (000002d6) invoke-direct        v2, Ljava/lang/StringBuilder;-><init>()V
	168     (000002dc) const-string         v4, 'CONNECT refused by proxy: '
	169     (000002e0) invoke-virtual       v2, v4, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
	170     (000002e6) move-result-object   v2
	171     (000002e8) invoke-interface     v3, Lch/boye/httpclientandroidlib/HttpResponse;->getStatusLine()Lch/boye/httpclientandroidlib/StatusLine;
	172     (000002ee) move-result-object   v4
	173     (000002f0) invoke-virtual       v2, v4, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
	174     (000002f6) move-result-object   v2
	175     (000002f8) invoke-virtual       v2, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
	176     (000002fe) move-result-object   v2
	177     (00000300) invoke-direct        v1, v2, v3, Lch/boye/httpclientandroidlib/impl/client/TunnelRefusedException;-><init>(Ljava/lang/String; Lch/boye/httpclientandroidlib/HttpResponse;)V
	178     (00000306) throw                v1

tunnel-BB@0x308 : 
	179     (00000308) invoke-virtual       v9, Lch/boye/httpclientandroidlib/impl/client/ProxyClient$ProxyConnection;->getSocket()Ljava/net/Socket;
	180     (0000030e) move-result-object   v1
	181     (00000310) return-object        v1

